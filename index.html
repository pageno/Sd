<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>SODEO BABY - Sourcing Pro</title>
<script src="https://unpkg.com/lucide@latest"></script>

<style>
:root {
  --brand: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  --primary: #4f46e5;
  --bg: #f8fafc;
  --card: #ffffff;
  --text-main: #0f172a;
  --text-sub: #64748b;
  --border: #f1f5f9;
  --danger: #ef4444;
  --shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.05);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Pretendard', sans-serif; }
body { margin: 0; background: var(--bg); color: var(--text-main); -webkit-font-smoothing: antialiased; }

/* ===== 프리미엄 헤더 ===== */
.top-header {
  position: sticky; top: 0; height: 64px; background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(12px); display: flex; align-items: center; justify-content: space-between;
  padding: 0 20px; border-bottom: 1px solid var(--border); z-index: 200;
}
.header-center {
  display: flex; align-items: center; gap: 10px; position: absolute; left: 50%; transform: translateX(-50%);
}
.header-logo { width: 30px; height: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.header-title { font-weight: 800; font-size: 18px; letter-spacing: -0.5px; color: var(--text-main); }

.icon-btn {
  width: 42px; height: 42px; border-radius: 12px; border: 1px solid var(--border);
  background: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02); transition: 0.2s;
}
.icon-btn:active { transform: scale(0.92); background: #f1f5f9; }

/* ===== 우측 사이드 메뉴 ===== */
.menu-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.4); display: none; z-index: 300; backdrop-filter: blur(4px); }
.menu {
  position: fixed; top: 0; right: -280px; width: 280px; height: 100%; background: #fff; padding: 30px 24px;
  box-shadow: -10px 0 40px rgba(0,0,0,0.15); transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); z-index: 400;
}
.menu.open { right: 0; }
.menu-overlay.show { display: block; }
.menu h3 { margin: 0 0 24px; font-size: 20px; font-weight: 800; }
.menu button {
  width: 100%; padding: 16px; margin-bottom: 12px; border: 1px solid #f1f5f9; border-radius: 16px;
  background: #fff; font-weight: 700; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: 0.2s;
}
.menu button:active { background: #f8fafc; }

/* ===== 메인 레이아웃 ===== */
.main { padding: 24px 20px; max-width: 500px; margin: 0 auto; padding-bottom: 120px; }
.card { background: var(--card); border-radius: 24px; padding: 24px; box-shadow: var(--shadow); margin-bottom: 24px; border: 1px solid rgba(255,255,255,0.8); }

label { font-size: 12px; font-weight: 800; color: var(--text-sub); margin-bottom: 8px; display: block; padding-left: 4px; }
input, textarea {
  width: 100%; padding: 16px; margin-bottom: 20px; border-radius: 16px;
  border: 1.5px solid #f1f5f9; font-size: 15px; background: #fcfdfe; transition: 0.2s;
}
input:focus { border-color: var(--primary); background: #fff; box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1); }

button.btn-main {
  width: 100%; padding: 18px; border: none; border-radius: 18px; background: var(--brand);
  color: #fff; font-weight: 800; font-size: 16px; cursor: pointer; transition: 0.2s; box-shadow: 0 8px 16px -4px rgba(79, 70, 229, 0.3);
}
button.btn-main:active { transform: translateY(1px); box-shadow: 0 4px 8px -2px rgba(79, 70, 229, 0.3); }

/* ===== 필터 & 리스트 ===== */
.filter-scroll { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 16px; scrollbar-width: none; }
.filter-scroll::-webkit-scrollbar { display: none; }
.filter-tab {
  white-space: nowrap; padding: 10px 20px; border-radius: 30px; background: #fff; border: 1px solid var(--border);
  font-size: 13px; font-weight: 700; color: var(--text-sub); cursor: pointer; transition: 0.2s;
}
.filter-tab.active { background: var(--text-main); color: #fff; border-color: var(--text-main); }

.item-card {
  background: #fff; border-radius: 20px; margin-bottom: 16px; border: 1px solid var(--border); 
  overflow: hidden; transition: 0.2s; box-shadow: 0 2px 10px rgba(0,0,0,0.02);
}
.item-card.done { opacity: 0.5; filter: grayscale(0.8); }
.item-header { padding: 20px; }
.item-tag { font-size: 11px; font-weight: 800; color: var(--primary); background: #eef2ff; padding: 4px 8px; border-radius: 6px; display: inline-block; margin-bottom: 8px; }
.item-title { font-size: 17px; font-weight: 800; margin-bottom: 6px; line-height: 1.4; }
.item-price { font-size: 20px; font-weight: 900; color: var(--text-main); }
.item-link { text-decoration: none; font-size: 13px; color: var(--text-sub); display: flex; align-items: center; gap: 4px; margin-top: 14px; }

.item-actions { display: flex; border-top: 1px solid var(--border); background: #fafbfc; }
.item-actions button {
  flex: 1; padding: 16px; border: none; background: transparent; font-size: 13px; font-weight: 700;
  display: flex; align-items: center; justify-content: center; gap: 6px; color: var(--text-sub); cursor: pointer;
}
.item-actions button:not(:last-child) { border-right: 1px solid var(--border); }
.item-actions button.btn-delete { color: var(--danger); }

/* ===== 하단 네비 ===== */
.nav {
  position: fixed; bottom: 0; left: 0; width: 100%; height: 80px; background: rgba(255,255,255,0.95);
  backdrop-filter: blur(15px); border-top: 1px solid var(--border); display: flex; z-index: 120; padding-bottom: env(safe-area-inset-bottom);
}
.nav button { flex: 1; border: none; background: none; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; font-size: 11px; font-weight: 800; color: #94a3b8; }
.nav button i { width: 24px; height: 24px; stroke-width: 2.5px; }
.nav button.active { color: var(--primary); }

.hidden { display: none; }

/* 토스트 알림 */
.toast {
  position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%);
  background: rgba(15, 23, 42, 0.9); color: #fff; padding: 12px 24px; border-radius: 50px;
  font-size: 13px; font-weight: 600; z-index: 1000; display: none; animation: fadeInUp 0.3s;
}
@keyframes fadeInUp { from { opacity: 0; transform: translate(-50%, 20px); } to { opacity: 1; transform: translate(-50%, 0); } }
</style>
</head>

<body>

<div id="toast" class="toast">복사되었습니다.</div>

<div class="top-header">
  <button class="icon-btn" onclick="openCalculator()"><i data-lucide="calculator"></i></button>
  <div class="header-center">
    <img src="https://raw.githubusercontent.com/pageno/Sde/main/Sd.png" class="header-logo" alt="logo">
    <span class="header-title">SODEO BABY</span>
  </div>
  <button class="icon-btn" onclick="toggleMenu()"><i data-lucide="menu"></i></button>
</div>

<div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>
<div class="menu" id="menu">
  <h3>Partners</h3>
  <button onclick="openLink('https://search.naver.com')"><i data-lucide="search"></i> 네이버 검색</button>
  <button onclick="openLink('https://smartstore.naver.com')"><i data-lucide="shopping-bag"></i> 스마트스토어</button>
  <button onclick="openLink('https://mobile.domeggook.com')"><i data-lucide="box"></i> 도매꾹</button>
  <button onclick="openLink('https://shopping.naver.com/ns/home')"><i data-lucide="store"></i> 네이버 쇼핑</button>
</div>

<div class="main">

  <div id="pageAdd">
    <div class="card">
      <label>PRODUCT NAME</label>
      <input id="title" placeholder="상품명을 입력하세요" />
      <label>SELLING PRICE (원)</label>
      <input id="price" type="number" placeholder="0" />
      <label>URL LINK</label>
      <input id="link" placeholder="https://" />
      <button class="btn-main" onclick="addOrUpdateItem()">상품 저장</button>
    </div>
  </div>

  <div id="pageKeyword" class="hidden">
    <div class="card">
      <label>BULK KEYWORDS</label>
      <textarea id="keywordInput" rows="5" placeholder="여러 키워드를 줄바꿈으로 입력"></textarea>
      <button class="btn-main" onclick="makeKeywords()">키워드 생성</button>
      <div style="display: flex; gap: 8px; margin-top: 16px;">
        <button class="icon-btn" style="flex:1; font-size:12px; font-weight:800;" onclick="selectAllKeywords()">전체선택</button>
        <button class="icon-btn" style="flex:1; font-size:12px; font-weight:800; color:var(--danger);" onclick="deleteCheckedKeywords()">선택삭제</button>
      </div>
    </div>
    <div id="keywordList"></div>
  </div>

  <div id="pageList" class="hidden">
    <div class="filter-scroll">
      <div id="fAll" class="filter-tab active" onclick="setFilter('all')">전체보기</div>
      <div id="fLow" class="filter-tab" onclick="setFilter('low')">실속형 (~2만)</div>
      <div id="fHigh" class="filter-tab" onclick="setFilter('high')">고급형 (2만~)</div>
    </div>
    <div id="listContainer"></div>
  </div>

</div>

<div class="nav">
  <button class="active" id="nAdd" onclick="switchPage('add')"><i data-lucide="plus-square"></i>ADD</button>
  <button id="nKeyword" onclick="switchPage('keyword')"><i data-lucide="key"></i>KEYWORD</button>
  <button id="nList" onclick="switchPage('list')"><i data-lucide="layout-grid"></i>LIST</button>
</div>

<script>
lucide.createIcons();

let items = JSON.parse(localStorage.getItem("items") || "[]");
let keywords = JSON.parse(localStorage.getItem("keywords") || "[]");
let currentFilter = "all";
let editingId = null;

function saveData() {
  localStorage.setItem("items", JSON.stringify(items));
  localStorage.setItem("keywords", JSON.stringify(keywords));
}

/* 유틸리티 */
function toggleMenu(){
  document.getElementById("menu").classList.toggle("open");
  document.getElementById("menuOverlay").classList.toggle("show");
}
function openCalculator(){ window.open("https://pageno.github.io/Sdb/","_blank"); }
function openLink(url){ window.open(url,"_blank"); }

function showToast(msg) {
  const t = document.getElementById("toast");
  t.innerText = msg;
  t.style.display = "block";
  setTimeout(() => { t.style.display = "none"; }, 1500);
}

function copyText(t) {
  navigator.clipboard.writeText(t).then(() => showToast("복사되었습니다."));
}

/* 페이지 전환 */
function switchPage(page) {
  ["pageAdd", "pageKeyword", "pageList"].forEach(id => document.getElementById(id).classList.add("hidden"));
  ["nAdd", "nKeyword", "nList"].forEach(id => document.getElementById(id).classList.remove("active"));
  
  const targetPage = "page" + page.charAt(0).toUpperCase() + page.slice(1);
  const targetNav = "n" + page.charAt(0).toUpperCase() + page.slice(1);
  
  document.getElementById(targetPage).classList.remove("hidden");
  document.getElementById(targetNav).classList.add("active");
  
  if(page === "list") renderList();
  if(page === "keyword") renderKeywords();
  lucide.createIcons();
}

/* 상품 관리 */
function addOrUpdateItem() {
  const title = document.getElementById("title").value.trim();
  const price = Number(document.getElementById("price").value.trim());
  const link = document.getElementById("link").value.trim();
  
  if(!title || !price) return alert("상품명과 판매가를 정확히 입력해주세요.");

  if(editingId) {
    items = items.map(it => it.id === editingId ? {...it, title, price, link} : it);
    editingId = null;
    showToast("수정되었습니다.");
  } else {
    items.unshift({ id: Date.now(), title, price, link, done: false });
    showToast("저장되었습니다.");
  }
  
  saveData();
  ["title", "price", "link"].forEach(id => document.getElementById(id).value = "");
  switchPage('list');
}

function renderList() {
  const list = document.getElementById("listContainer");
  list.innerHTML = "";
  
  const filtered = items.filter(it => {
    if(currentFilter === "all") return true;
    return currentFilter === "low" ? it.price < 20000 : it.price >= 20000;
  });

  if(filtered.length === 0) {
    list.innerHTML = `<div style="text-align:center; padding:60px 0; color:#94a3b8; font-size:14px;">데이터가 없습니다.</div>`;
    return;
  }

  filtered.forEach(it => {
    const div = document.createElement("div");
    div.className = `item-card ${it.done ? 'done' : ''}`;
    div.innerHTML = `
      <div class="item-header">
        <div class="item-tag">${it.price >= 20000 ? 'PREMIUM' : 'ESSENTIAL'}</div>
        <div class="item-title">${it.title}</div>
        <div class="item-price">${it.price.toLocaleString()}원</div>
        <div style="display:flex; gap:10px; margin-top:10px;">
           <button class="icon-btn" onclick="copyText('${it.title}')"><i data-lucide="copy" style="width:16px;"></i></button>
           <button class="icon-btn" onclick="copyText('${it.price}')"><i data-lucide="dollar-sign" style="width:16px;"></i></button>
           ${it.link ? `<button class="icon-btn" onclick="openLink('${it.link}')"><i data-lucide="external-link" style="width:16px;"></i></button>` : ''}
        </div>
      </div>
      <div class="item-actions">
        <button onclick="toggleItem(${it.id})"><i data-lucide="${it.done ? 'rotate-ccw' : 'check-circle-2'}"></i>${it.done ? '복구' : '완료'}</button>
        <button onclick="editItem(${it.id})"><i data-lucide="pencil"></i>수정</button>
        <button class="btn-delete" onclick="deleteItem(${it.id})"><i data-lucide="trash-2"></i>삭제</button>
      </div>
    `;
    list.appendChild(div);
  });
  lucide.createIcons();
}

function setFilter(f) {
  currentFilter = f;
  ["fAll", "fLow", "fHigh"].forEach(id => document.getElementById(id).classList.remove("active"));
  document.getElementById("f" + f.charAt(0).toUpperCase() + f.slice(1)).classList.add("active");
  renderList();
}

function toggleItem(id) { items = items.map(it => it.id === id ? {...it, done: !it.done} : it); saveData(); renderList(); }
function editItem(id) {
  const it = items.find(x => x.id === id);
  if(!it) return;
  document.getElementById("title").value = it.title;
  document.getElementById("price").value = it.price;
  document.getElementById("link").value = it.link;
  editingId = id;
  switchPage("add");
}
function deleteItem(id) {
  if(confirm("이 항목을 삭제하시겠습니까?")) {
    items = items.filter(it => it.id !== id);
    saveData(); renderList();
  }
}

/* 키워드 관리 */
function makeKeywords() {
  const raw = document.getElementById("keywordInput").value.trim();
  if(!raw) return;
  const arr = raw.split("\n").map(v => v.trim()).filter(v => v);
  arr.forEach(t => {
    if(!keywords.some(k => k.text === t)) keywords.push({ text: t, checked: false });
  });
  document.getElementById("keywordInput").value = "";
  saveData(); renderKeywords();
}

function renderKeywords() {
  const wrap = document.getElementById("keywordList");
  wrap.innerHTML = "";
  keywords.forEach((k, i) => {
    const div = document.createElement("div");
    div.className = "card";
    div.style = "display:flex; align-items:center; gap:12px; padding:16px; margin-bottom:12px;";
    div.innerHTML = `
      <input type="checkbox" style="width:22px; height:22px; margin:0;" ${k.checked ? 'checked' : ''} onchange="toggleKeyword(${i})">
      <div style="flex:1; font-weight:700; cursor:pointer;" onclick="searchKeyword('${k.text}')">${k.text}</div>
      <button class="icon-btn" style="width:34px; height:34px; border:none; background:#f1f5f9;" onclick="copyText('${k.text}')"><i data-lucide="copy" style="width:14px;"></i></button>
    `;
    wrap.appendChild(div);
  });
  lucide.createIcons();
}

function toggleKeyword(i) { keywords[i].checked = !keywords[i].checked; saveData(); }
function selectAllKeywords() { keywords.forEach(k => k.checked = true); saveData(); renderKeywords(); }
function deleteCheckedKeywords() {
  if(!keywords.some(k => k.checked)) return alert("선택된 항목이 없습니다.");
  if(confirm("삭제하시겠습니까?")) {
    keywords = keywords.filter(k => !k.checked);
    saveData(); renderKeywords();
  }
}
function searchKeyword(t) {
  window.open("https://shopping.naver.com/search/all?query=" + encodeURIComponent(t), "_blank");
}
</script>
</body>
</html>
